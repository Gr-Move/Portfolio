### Диаграммы для представления требований

1. Диаграмма последовательностей (Sequence Diagram):
   - Отображает взаимодействие между пользователем, внутренней системой, "Яндекс Билетами" и "ВетАИС" при оформлении билета. Это помогает понять порядок выполнения операций и временные задержки.

---
title: Диаграмма последовательностей (Sequence Diagram)
---
```mermaid
sequenceDiagram;
    participant User as Пользователь
    participant YB as Яндекс Билеты
    participant Internal as Внутренняя транспортная система
    participant VetAIS as ВетАИС

    User->>YB: Запрос данных о транспорте из справочника
    YB->>Internal: Запрос данных о транспорте из справочника
    Internal->>YB: Ответ от справочника
    YB->>User: Ответ от справочника
    User->>YB:  Запрос на оформление билета для животного
    YB->>Internal:  Передача данных о животном
    Internal->>VetAIS: Запрос информации о животном
    VetAIS-->>Internal: Ответ с медицинской информацией
    Internal->>YB: Подтверждение данных о животном
    YB->>User: Подтверждение оформления билета для животного
    YB-->>Internal: Ответ с номером и деталями билета
```

2. Диаграмма состояний (State Diagram):
   - Моделирует состояния, через которые проходит заявка на перевозку животного. Диаграмма может включать такие состояния, как:
     - Новая заявка
     - Обработка
     - Ожидание данных от "ВетАИС"
     - Подтвержденный билет и т.п.


```mermaid
stateDiagram-v2
    [*] --> Still
    Still --> [*]

    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]
```

---
title: Диаграмма состояний (State Diagram)
---
```mermaid
stateDiagram-v2
    [*] --> Заполнение_формы: Пользователь инициировал оформление
    Заполнение_формы --> Получение_данных_из_справочника: Пользователь запросил данные о транспорте
    Получение_данных_из_справочника --> Оформление_заявки
    Оформление_заявки --> Обработка_данных_животоного: Проверка регистрации животного
    Обработка_данных_животоного --> Подтверждение_билета
    Подтверждение_билета --> [*]
```

3. Диаграмма потоков данных (Data Flow Diagram):
   - Отображает поток данных между системами (внутренняя система, "Яндекс Билеты", "ВетАИС"). Показывает, какие данные передаются, откуда они берутся и как они используются. Это поможет визуализировать, где данные могут быть потеряны или искажены.

```mermaid
graph TD;
    User[Пользователь] -->|Данные о животном и запрос на билет| Internal[Внутренняя система]
    Internal -->|Запрос на медицинскую информацию| VetAIS[ВетАИС]
    VetAIS -->|Медицинские данные о животном| Internal
    Internal -->|Запрос на оформление билета| YB[Яндекс Билеты]
    YB -->|Подтверждение и номер билета| Internal
    Internal -->|Информация о билете| User
```

4. Диаграмма C4:
   - Состоит из четырех уровней: контекстная диаграмма, диаграмма контейнеров, диаграмма компонентов и диаграмма кода. В вашем случае мы сосредоточимся на контекстной диаграмме и диаграмме контейнеров для случаев интеграции систем "Яндекс Билеты" и "ВетАИС" для оформления билета на перевозку животного.

```mermaid
graph TD;
    User[Пользователь]
    Internal[Внутренняя система]
    YB[Яндекс Билеты]
    VetAIS[ВетАИС]

    User -->|Запрос на оформление билета| Internal
    Internal -->|Запрос на медицинскую информацию| VetAIS
    Internal -->|Запрос на оформление билета| YB
    VetAIS -->|Медицинская информация| Internal
    YB -->|Подтверждение билета| Internal
    Internal -->|Информация о билете| User
```

```mermaid
graph TD;
    UserApp[Приложение оформления билетов]
    InternalSystem[Внутренняя система]
    Database[База данных]
    VetAPI[API ВетАИС]
    YBAPI[API Яндекс Билеты]

    UserApp -->|Отправка данных о запросе| InternalSystem
    InternalSystem -->|Запись данных| Database
    InternalSystem -->|Запрос медицинской информации| VetAPI
    InternalSystem -->|Запрос на оформление билета| YBAPI
    VetAPI -->|Ответ с медицинскими данными| InternalSystem
    YBAPI -->|Ответ с подтверждением билета| InternalSystem
    InternalSystem -->|Получение информации| UserApp
```
